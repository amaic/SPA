{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,mBAAmB,GAAG,0BAA0B,GAAG,kCAAkC,GAAG,4BAA4B,GAAG,oCAAoC;AAC7L,6BAA6B,mBAAO,CAAC,sHAAiC;AACtE,gEAA+D,EAAE,qCAAqC,6DAA6D,EAAC;AACpK,wDAAuD,EAAE,qCAAqC,qDAAqD,EAAC;AACpJ,2BAA2B,mBAAO,CAAC,kHAA+B;AAClE,8DAA6D,EAAE,qCAAqC,yDAAyD,EAAC;AAC9J,sDAAqD,EAAE,qCAAqC,iDAAiD,EAAC;AAC9I,sBAAsB,mBAAO,CAAC,8FAAqB;AACnD,+CAA8C,EAAE,qCAAqC,qCAAqC,EAAC;AAC3H,kCAAkC,mBAAO,CAAC,sHAAiC;AAC3E,2DAA0D,EAAE,qCAAqC,6DAA6D,EAAC;AAC/J;;;;;;;;;;ACba;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,GAAG,oCAAoC;AACnE;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;;;;;;;;;;ACda;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,kCAAkC;AAC/D;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;;;;;;;;;;ACda;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gEAAgE,+BAA+B,KAAK;AACrG;;;;;;;;;;ACZa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wCAAwC,mBAAmB,KAAK;AACjE;;;;;;;;;;ACpBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,eAAe,mBAAO,CAAC,6DAAa;AACpC,qDAAoD,EAAE,qCAAqC,oCAAoC,EAAC;AAChI,4BAA4B,mBAAO,CAAC,uFAA0B;AAC9D;AACA;AACA;AACA;;;;;;;;;;ACTa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,qBAAqB,mBAAO,CAAC,2FAAc;AAC3C,qDAAoD,EAAE,qCAAqC,0CAA0C,EAAC;AACtI;;;;;;;;;;ACLa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mDAAmD,mBAAO,CAAC,8GAAoC;AAC/F,gDAAgD,mBAAO,CAAC,wGAAiC;AACzF,wDAAwD,mBAAO,CAAC,wHAAyC;AACzG,4BAA4B,mBAAO,CAAC,uFAA0B;AAC9D,6CAA6C,mBAAO,CAAC,kGAA8B;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,oCAAoC;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,oCAAoC;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,8EAA8E;AAC5H;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;AC1Ea;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,mBAAO,CAAC,uFAA0B;AAC9D,6CAA6C,mBAAO,CAAC,kGAA8B;AACnF,wDAAwD,mBAAO,CAAC,wHAAyC;AACzG,4CAA4C,mBAAO,CAAC,yFAAqB;AACzE,uCAAuC,mBAAO,CAAC,+EAAgB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,8BAA8B;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,aAAa,KAAK,wDAAwD;AAC5I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;AC9Da;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,mBAAO,CAAC,wFAAyB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;ACjBa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wDAAwD,mBAAO,CAAC,wHAAyC;AACzG,0DAA0D,mBAAO,CAAC,4HAA2C;AAC7G,wDAAwD,mBAAO,CAAC,wHAAyC;AACzG,kCAAkC,mBAAO,CAAC,qEAAW;AACrD,4BAA4B,mBAAO,CAAC,uFAA0B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F,gDAAgD;AAC9I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,8BAA8B;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,8BAA8B;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;AClFa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;ACRa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;ACRa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;ACRa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;ACRa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;ACRa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;ACRa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;;;;ACRa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,mBAAO,CAAC,uEAAa;AACrB,4CAA4C,mBAAO,CAAC,iGAA6B;AACjF,yBAAyB;AACzB;;;;;;;;;;ACTa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,GAAG,4BAA4B;AACnD,4BAA4B;AAC5B;AACA;AACA;AACA,oBAAoB;AACpB;;;;;;;;;;ACRa;AACb;AACA;AACA;AACA;;;;;;;;;;ACJa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAO,CAAC,yFAAoB;AAC5B;;;;;;;;;;;;;;;;;;;;;ACHA,kGAAgD;AAChD,yIAAmE;AACnE,mIAA6C;AAC7C,gHAAiF;AAEjF,IAAI,oBAAmD,CAAC;AAExD,SAAwB,UAAU,CAAC,cAAsB;IAErD,oBAAoB,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC;IAE7C,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,EACrC;QACI,MAAM,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;KACxD;SAED;QACI,OAAO,EAAE,CAAC;KACb;AACL,CAAC;AAZD,gCAYC;AAED,SAAe,OAAO;;QAElB,IAAI,oBAAoB,IAAI,SAAS,EACrC;YACI,OAAO,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;YACpD,OAAO;SACV;QAED,MAAM,oBAAoB,GAAG,MAAM,oBAAoB,CAAC;QAExD,IAAI,oBAAoB,CAAC,EAAE,IAAI,KAAK,EACpC;YACI,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,oBAAoB,CAAC,GAAG,EAAE,oBAAoB,CAAC,MAAM,EAAE,oBAAoB,CAAC,UAAU,CAAC,CAAC;YAClI,OAAO;SACV;QAED,MAAM,WAAW,GAAiB,MAAM,oBAAoB,CAAC,IAAI,EAAE,CAAC;QAEpE,MAAM,iBAAiB,GAAG,IAAI,wBAAiB,EAAE,CAAC;QAElD,iBAAiB,CAAC,gBAAgB,CAC9B,2CAAuB,CAAC,MAAM,EAC9B,qCAAsB,EACtB,WAAW,CACV,CAAC;QAEN,MAAM,eAAe,GAAG,iBAAiB,CAAC,qBAAqB,EAAE,CAAC;QAElE,MAAM,IAAI,GAAG,eAAe,CAAC,kBAAkB,CAAe,qCAAsB,CAAC,CAAC;QAEtF,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACpC,CAAC;CAAA;;;;;;;;;;;;;;;;ACpDD,qGAAsC;AAEtC,wBAAU,EAAC,oBAAoB,CAAC,CAAC;;;;;;;;;;;;;;ACFpB,8BAAsB,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;;;;;;;UCA7D;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UEtBA;UACA;UACA;UACA","sources":["webpack://spa/./node_modules/@amaic/dijs-abstractions/dist/index.js","webpack://spa/./node_modules/@amaic/dijs-abstractions/dist/interfaces/IServiceCollection.js","webpack://spa/./node_modules/@amaic/dijs-abstractions/dist/interfaces/IServiceProvider.js","webpack://spa/./node_modules/@amaic/dijs-abstractions/dist/types/ServiceRegistrationMode.js","webpack://spa/./node_modules/@amaic/dijs-abstractions/dist/types/ServiceType.js","webpack://spa/./node_modules/@amaic/dijs-extensions-registration/dist/extensions.js","webpack://spa/./node_modules/@amaic/dijs-extensions-registration/dist/index.js","webpack://spa/./node_modules/@amaic/dijs/dist/classes/Service.js","webpack://spa/./node_modules/@amaic/dijs/dist/classes/ServiceCollection.js","webpack://spa/./node_modules/@amaic/dijs/dist/classes/ServiceDescriptor.js","webpack://spa/./node_modules/@amaic/dijs/dist/classes/ServiceScope.js","webpack://spa/./node_modules/@amaic/dijs/dist/errors/InstanceNameMandatory.js","webpack://spa/./node_modules/@amaic/dijs/dist/errors/InstanceNameNotAvailable.js","webpack://spa/./node_modules/@amaic/dijs/dist/errors/InvalidServiceType.js","webpack://spa/./node_modules/@amaic/dijs/dist/errors/ScopedNotAllowedInMainContext.js","webpack://spa/./node_modules/@amaic/dijs/dist/errors/ServiceIdentifierAlreadyInUse.js","webpack://spa/./node_modules/@amaic/dijs/dist/errors/UnknownOrUnsupportedServiceType.js","webpack://spa/./node_modules/@amaic/dijs/dist/errors/UnknownServiceIdentifierError.js","webpack://spa/./node_modules/@amaic/dijs/dist/index.js","webpack://spa/./node_modules/@amaic/dijs/dist/interfaces/IClonable.js","webpack://spa/./node_modules/@amaic/dijs/dist/polyfills/StringExtensions.js","webpack://spa/./node_modules/@amaic/dijs/dist/polyfills/index.js","webpack://spa/./src/bootloader.ts","webpack://spa/./src/index.ts","webpack://spa/./src/interfaces/IAppSettings.ts","webpack://spa/webpack/bootstrap","webpack://spa/webpack/before-startup","webpack://spa/webpack/startup","webpack://spa/webpack/after-startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceRegistrationMode = exports.ServiceType = exports.IsIServiceProvider = exports.IServiceProviderIdentifier = exports.IsIServiceCollection = exports.IServiceCollectionIdentifier = void 0;\nconst IServiceCollection_1 = require(\"./interfaces/IServiceCollection\");\nObject.defineProperty(exports, \"IServiceCollectionIdentifier\", { enumerable: true, get: function () { return IServiceCollection_1.IServiceCollectionIdentifier; } });\nObject.defineProperty(exports, \"IsIServiceCollection\", { enumerable: true, get: function () { return IServiceCollection_1.IsIServiceCollection; } });\nconst IServiceProvider_1 = require(\"./interfaces/IServiceProvider\");\nObject.defineProperty(exports, \"IServiceProviderIdentifier\", { enumerable: true, get: function () { return IServiceProvider_1.IServiceProviderIdentifier; } });\nObject.defineProperty(exports, \"IsIServiceProvider\", { enumerable: true, get: function () { return IServiceProvider_1.IsIServiceProvider; } });\nconst ServiceType_1 = require(\"./types/ServiceType\");\nObject.defineProperty(exports, \"ServiceType\", { enumerable: true, get: function () { return ServiceType_1.ServiceType; } });\nconst ServiceRegistrationMode_1 = require(\"./types/ServiceRegistrationMode\");\nObject.defineProperty(exports, \"ServiceRegistrationMode\", { enumerable: true, get: function () { return ServiceRegistrationMode_1.ServiceRegistrationMode; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IsIServiceCollection = exports.IServiceCollectionIdentifier = void 0;\n/** Unique IServiceCollection identifier. */\nexports.IServiceCollectionIdentifier = Symbol(\"IServiceCollection\");\n/**\n * Test if object implements interface IServiceCollection.\n * @param instance object to test\n * @returns if interface is implemented then true else false\n */\nfunction IsIServiceCollection(instance) {\n    return (instance === null || instance === void 0 ? void 0 : instance.IServiceCollection) === exports.IServiceCollectionIdentifier;\n}\nexports.IsIServiceCollection = IsIServiceCollection;\n//# sourceMappingURL=IServiceCollection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IsIServiceProvider = exports.IServiceProviderIdentifier = void 0;\n/** Unique IServiceProvider identifier. */\nexports.IServiceProviderIdentifier = Symbol(\"IServiceProvider\");\n/**\n * Test if object implements interface IServiceProvider.\n * @param instance object to test\n * @returns if interface is implemented then true else false\n */\nfunction IsIServiceProvider(instance) {\n    return (instance === null || instance === void 0 ? void 0 : instance.IServiceProvider) === exports.IServiceProviderIdentifier;\n}\nexports.IsIServiceProvider = IsIServiceProvider;\n//# sourceMappingURL=IServiceProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceRegistrationMode = void 0;\nvar ServiceRegistrationMode;\n(function (ServiceRegistrationMode) {\n    /** Only one registration per identifier or identifier with name allowed. */\n    ServiceRegistrationMode[\"Single\"] = \"single\";\n    /** Overwrite previous registrations of identifier or identifier with name. */\n    ServiceRegistrationMode[\"Overwrite\"] = \"overwrite\";\n    /** Multiple registrations per identifier or identifier with namre allowed. */\n    ServiceRegistrationMode[\"Multiple\"] = \"multiple\";\n})(ServiceRegistrationMode = exports.ServiceRegistrationMode || (exports.ServiceRegistrationMode = {}));\n//# sourceMappingURL=ServiceRegistrationMode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceType = void 0;\nvar ServiceType;\n(function (ServiceType) {\n    /** Register already existing instance. */\n    ServiceType[\"Instance\"] = \"instance\";\n    /** Only one instance for all. */\n    ServiceType[\"Singleton\"] = \"singleton\";\n    /** Each name gets it's own instance, but only one instance per name. */\n    ServiceType[\"Named\"] = \"named\";\n    /** Each scope gets it's own instance, but only one instance per scope. */\n    ServiceType[\"Scoped\"] = \"scoped\";\n    /** Each scope/name combination gets it's own instance, but only one instance per scope/name combination. */\n    ServiceType[\"ScopedNamed\"] = \"scopednamed\";\n    /** Everytime a new instance. */\n    ServiceType[\"Transient\"] = \"transient\";\n    /** Everytime a new instance for each name. */\n    ServiceType[\"TransientNamed\"] = \"transientnamed\";\n})(ServiceType = exports.ServiceType || (exports.ServiceType = {}));\n//# sourceMappingURL=ServiceType.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ServiceCollection = void 0;\r\nconst dijs_1 = require(\"@amaic/dijs\");\r\nObject.defineProperty(exports, \"ServiceCollection\", { enumerable: true, get: function () { return dijs_1.ServiceCollection; } });\r\nconst dijs_abstractions_1 = require(\"@amaic/dijs-abstractions\");\r\ndijs_1.ServiceCollection.prototype.RegisterTransientClass = function (id, ct, ctr) {\r\n    this.RegisterClass(dijs_abstractions_1.ServiceRegistrationMode.Single, dijs_abstractions_1.ServiceType.Transient, id, ct, ctr);\r\n};\r\n//# sourceMappingURL=extensions.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ServiceCollection = void 0;\r\nconst extensions_1 = require(\"./extensions\");\r\nObject.defineProperty(exports, \"ServiceCollection\", { enumerable: true, get: function () { return extensions_1.ServiceCollection; } });\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst InstanceNameNotAvailable_1 = __importDefault(require(\"../errors/InstanceNameNotAvailable\"));\r\nconst InstanceNameMandatory_1 = __importDefault(require(\"../errors/InstanceNameMandatory\"));\r\nconst UnknownServiceIdentifierError_1 = __importDefault(require(\"../errors/UnknownServiceIdentifierError\"));\r\nconst dijs_abstractions_1 = require(\"@amaic/dijs-abstractions\");\r\nconst InvalidServiceType_1 = __importDefault(require(\"../errors/InvalidServiceType\"));\r\nclass Service {\r\n    constructor(serviceProvider, serviceDescriptor) {\r\n        this._instances = {};\r\n        this._serviceProvider = serviceProvider;\r\n        this._serviceDescriptor = serviceDescriptor;\r\n    }\r\n    _getInstance(serviceConstructorIndex, name) {\r\n        let internalName;\r\n        switch (this._serviceDescriptor.ServiceType) {\r\n            case dijs_abstractions_1.ServiceType.Instance:\r\n            case dijs_abstractions_1.ServiceType.Singleton:\r\n            case dijs_abstractions_1.ServiceType.Transient:\r\n            case dijs_abstractions_1.ServiceType.Scoped:\r\n                if (name !== undefined)\r\n                    throw new InstanceNameNotAvailable_1.default(`Service is of type '${this._serviceDescriptor.ServiceType}' and parameter 'instanceName' must be null.`);\r\n                internalName = \"\";\r\n                break;\r\n            case dijs_abstractions_1.ServiceType.Named:\r\n            case dijs_abstractions_1.ServiceType.ScopedNamed:\r\n            case dijs_abstractions_1.ServiceType.TransientNamed:\r\n                if (name == undefined || name.isEmptyOrWhitespace())\r\n                    throw new InstanceNameMandatory_1.default(`Service is of type '${this._serviceDescriptor.ServiceType}' and parameter 'name' must not be null, empty or whitespace.`);\r\n                internalName = name;\r\n                break;\r\n            default:\r\n                throw new InvalidServiceType_1.default();\r\n        }\r\n        const serviceConstructor = this._serviceDescriptor.ServiceConstructors[serviceConstructorIndex];\r\n        switch (this._serviceDescriptor.ServiceType) {\r\n            case dijs_abstractions_1.ServiceType.Transient:\r\n            case dijs_abstractions_1.ServiceType.TransientNamed:\r\n                return serviceConstructor(this._serviceProvider, name);\r\n            case dijs_abstractions_1.ServiceType.Instance:\r\n            case dijs_abstractions_1.ServiceType.Singleton:\r\n            case dijs_abstractions_1.ServiceType.Scoped:\r\n            case dijs_abstractions_1.ServiceType.Named:\r\n            case dijs_abstractions_1.ServiceType.ScopedNamed:\r\n                if (this._instances[internalName] == undefined) {\r\n                    this._instances[internalName] = new Array(this._serviceDescriptor.ServiceConstructors.length);\r\n                }\r\n                if (this._instances[internalName][serviceConstructorIndex] == undefined) {\r\n                    this._instances[internalName][serviceConstructorIndex] = serviceConstructor(this._serviceProvider, name);\r\n                }\r\n                return this._instances[internalName][serviceConstructorIndex];\r\n            default:\r\n                throw new UnknownServiceIdentifierError_1.default();\r\n        }\r\n    }\r\n    GetInstance(name) {\r\n        const serviceConstructorIndex = this._serviceDescriptor.ServiceConstructors.length - 1;\r\n        if (serviceConstructorIndex < 0) {\r\n            throw new Error(\"Should not happen: no service constructor found.\");\r\n        }\r\n        return this._getInstance(serviceConstructorIndex, name);\r\n    }\r\n    GetInstances(name) {\r\n        const instances = [];\r\n        for (let serviceConstructorIndex = 0; serviceConstructorIndex < this._serviceDescriptor.ServiceConstructors.length; serviceConstructorIndex++) {\r\n            instances.push(this._getInstance(serviceConstructorIndex, name));\r\n        }\r\n        return instances;\r\n    }\r\n}\r\nexports.default = Service;\r\n//# sourceMappingURL=Service.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst dijs_abstractions_1 = require(\"@amaic/dijs-abstractions\");\r\nconst InvalidServiceType_1 = __importDefault(require(\"../errors/InvalidServiceType\"));\r\nconst ServiceIdentifierAlreadyInUse_1 = __importDefault(require(\"../errors/ServiceIdentifierAlreadyInUse\"));\r\nconst ServiceDescriptor_1 = __importDefault(require(\"./ServiceDescriptor\"));\r\nconst ServiceScope_1 = __importDefault(require(\"./ServiceScope\"));\r\nclass ServiceCollection {\r\n    constructor() {\r\n        this.IServiceCollection = dijs_abstractions_1.IServiceCollectionIdentifier;\r\n        this._serviceDescriptors = {};\r\n        this.RegisterInstance(dijs_abstractions_1.ServiceRegistrationMode.Single, dijs_abstractions_1.IServiceCollectionIdentifier, this);\r\n    }\r\n    _registerService(registrationMode, serviceType, serviceIdentifier, serviceConstructor) {\r\n        switch (registrationMode) {\r\n            case dijs_abstractions_1.ServiceRegistrationMode.Overwrite:\r\n                this._serviceDescriptors[serviceIdentifier] = new ServiceDescriptor_1.default(serviceIdentifier, serviceType, serviceConstructor);\r\n                break;\r\n            case dijs_abstractions_1.ServiceRegistrationMode.Single:\r\n                if (this._serviceDescriptors[serviceIdentifier] != undefined) {\r\n                    throw new ServiceIdentifierAlreadyInUse_1.default(`Service with identifier '${serviceIdentifier.description}' is already registered.`);\r\n                }\r\n                this._serviceDescriptors[serviceIdentifier] = new ServiceDescriptor_1.default(serviceIdentifier, serviceType, serviceConstructor);\r\n                break;\r\n            case dijs_abstractions_1.ServiceRegistrationMode.Multiple:\r\n                if (this._serviceDescriptors[serviceIdentifier] == undefined) {\r\n                    this._serviceDescriptors[serviceIdentifier] = new ServiceDescriptor_1.default(serviceIdentifier, serviceType, serviceConstructor);\r\n                }\r\n                else {\r\n                    if (serviceType != this._serviceDescriptors[serviceIdentifier].ServiceType) {\r\n                        throw new InvalidServiceType_1.default(`${serviceType} <> ${this._serviceDescriptors[serviceIdentifier].ServiceType}`);\r\n                    }\r\n                    this._serviceDescriptors[serviceIdentifier].ServiceConstructors.push(serviceConstructor);\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(\"Invalid service registration mode.\");\r\n        }\r\n    }\r\n    RegisterInstance(registrationMode, interfaceIdentifier, instance) {\r\n        this._registerService(registrationMode, dijs_abstractions_1.ServiceType.Instance, interfaceIdentifier, () => instance);\r\n    }\r\n    RegisterClass(registrationMode, serviceType, interfaceIdentifier, classType, constructor) {\r\n        this._registerService(registrationMode, serviceType, interfaceIdentifier, (serviceProvider, name) => constructor == undefined ? new classType() : constructor(classType, serviceProvider, name));\r\n    }\r\n    RegisterFactory(registrationMode, serviceType, interfaceIdentifier, factory) {\r\n        this._registerService(registrationMode, serviceType, interfaceIdentifier, (serviceProvider, name) => factory(serviceProvider, name));\r\n    }\r\n    CreateServiceProvider() {\r\n        const serviceDescriptorsClone = {};\r\n        const keys = Object.getOwnPropertySymbols(this._serviceDescriptors);\r\n        for (let key of keys) {\r\n            serviceDescriptorsClone[key] = this._serviceDescriptors[key].Clone();\r\n        }\r\n        const serviceProvider = new ServiceScope_1.default(null, serviceDescriptorsClone);\r\n        return serviceProvider;\r\n    }\r\n}\r\nexports.default = ServiceCollection;\r\n//# sourceMappingURL=ServiceCollection.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst IClonable_1 = require(\"../interfaces/IClonable\");\r\nclass ServiceDescriptor {\r\n    constructor(serviceIdentifier, serviceType, serviceConstructor) {\r\n        this.ICloneable = IClonable_1.ICloneableIdentifier;\r\n        this.ServiceIdentifier = serviceIdentifier;\r\n        this.ServiceType = serviceType;\r\n        this.ServiceConstructors = new Array(serviceConstructor);\r\n    }\r\n    Clone() {\r\n        const clone = Object.assign({}, this);\r\n        clone.ServiceConstructors = [...this.ServiceConstructors];\r\n        return clone;\r\n    }\r\n}\r\nexports.default = ServiceDescriptor;\r\n//# sourceMappingURL=ServiceDescriptor.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst ScopedNotAllowedInMainContext_1 = __importDefault(require(\"../errors/ScopedNotAllowedInMainContext\"));\r\nconst UnknownOrUnsupportedServiceType_1 = __importDefault(require(\"../errors/UnknownOrUnsupportedServiceType\"));\r\nconst UnknownServiceIdentifierError_1 = __importDefault(require(\"../errors/UnknownServiceIdentifierError\"));\r\nconst Service_1 = __importDefault(require(\"./Service\"));\r\nconst dijs_abstractions_1 = require(\"@amaic/dijs-abstractions\");\r\nclass ServiceScope {\r\n    constructor(parentScope, serviceDescriptors) {\r\n        this.IServiceProvider = dijs_abstractions_1.IServiceProviderIdentifier;\r\n        this._services = {};\r\n        this._parentScope = parentScope;\r\n        this._serviceDescriptors = serviceDescriptors;\r\n    }\r\n    get IsMainContext() {\r\n        return this._parentScope == null;\r\n    }\r\n    _getService(serviceDescriptor) {\r\n        switch (serviceDescriptor.ServiceType) {\r\n            case dijs_abstractions_1.ServiceType.Instance:\r\n            case dijs_abstractions_1.ServiceType.Singleton:\r\n            case dijs_abstractions_1.ServiceType.Named:\r\n            case dijs_abstractions_1.ServiceType.Transient:\r\n            case dijs_abstractions_1.ServiceType.TransientNamed:\r\n                if (this._parentScope === null) {\r\n                    if (this._services[serviceDescriptor.ServiceIdentifier] === undefined) {\r\n                        this._services[serviceDescriptor.ServiceIdentifier] = new Service_1.default(this, serviceDescriptor);\r\n                    }\r\n                    return this._services[serviceDescriptor.ServiceIdentifier];\r\n                }\r\n                else {\r\n                    return this._parentScope._getService(serviceDescriptor);\r\n                }\r\n            case dijs_abstractions_1.ServiceType.Scoped:\r\n            case dijs_abstractions_1.ServiceType.ScopedNamed:\r\n                if (this.IsMainContext) {\r\n                    throw new ScopedNotAllowedInMainContext_1.default(`Scoped service type '${serviceDescriptor.ServiceIdentifier.description}' not allowed in main context.`);\r\n                }\r\n                if (this._services[serviceDescriptor.ServiceIdentifier] === undefined) {\r\n                    this._services[serviceDescriptor.ServiceIdentifier] = new Service_1.default(this, serviceDescriptor);\r\n                }\r\n                return this._services[serviceDescriptor.ServiceIdentifier];\r\n            default:\r\n                throw new UnknownOrUnsupportedServiceType_1.default();\r\n        }\r\n    }\r\n    GetService(serviceIdentifier, name) {\r\n        const serviceDescriptor = this._serviceDescriptors[serviceIdentifier];\r\n        if (serviceDescriptor === undefined)\r\n            return null;\r\n        const service = this._getService(serviceDescriptor);\r\n        return service.GetInstance(name);\r\n    }\r\n    GetRequiredService(serviceIdentifier, name) {\r\n        const serviceDescriptor = this._serviceDescriptors[serviceIdentifier];\r\n        if (serviceDescriptor === undefined)\r\n            throw new UnknownServiceIdentifierError_1.default(`Service with identifier '${serviceIdentifier.description}' not found.`);\r\n        const service = this._getService(serviceDescriptor);\r\n        return service.GetInstance(name);\r\n    }\r\n    GetServices(serviceIdentifier, name) {\r\n        const serviceDescriptor = this._serviceDescriptors[serviceIdentifier];\r\n        if (serviceDescriptor === undefined)\r\n            return [];\r\n        const service = this._getService(serviceDescriptor);\r\n        return service.GetInstances(name);\r\n    }\r\n    GetRequiredServices(serviceIdentifier, name) {\r\n        const serviceDescriptor = this._serviceDescriptors[serviceIdentifier];\r\n        if (serviceDescriptor === undefined)\r\n            throw new UnknownServiceIdentifierError_1.default(`Service with identifier '${serviceIdentifier.description}' not found.`);\r\n        const service = this._getService(serviceDescriptor);\r\n        return service.GetInstances(name);\r\n    }\r\n    CreateScope() {\r\n        return new ServiceScope(this, this._serviceDescriptors);\r\n    }\r\n}\r\nexports.default = ServiceScope;\r\n//# sourceMappingURL=ServiceScope.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass InstanceNameMandatory extends Error {\r\n    constructor(message = \"Instance name mandatory.\") {\r\n        super(message);\r\n    }\r\n}\r\nexports.default = InstanceNameMandatory;\r\n//# sourceMappingURL=InstanceNameMandatory.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass InstanceNameNotAvailable extends Error {\r\n    constructor(message = \"Instance name not available.\") {\r\n        super(message);\r\n    }\r\n}\r\nexports.default = InstanceNameNotAvailable;\r\n//# sourceMappingURL=InstanceNameNotAvailable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass InvalidServiceType extends Error {\r\n    constructor(message = \"With multiple registration mode all services must be of same service type.\") {\r\n        super(message);\r\n    }\r\n}\r\nexports.default = InvalidServiceType;\r\n//# sourceMappingURL=InvalidServiceType.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ScopedNotAllowedInMainContext extends Error {\r\n    constructor(message = \"Scoped service type not allowed in main context.\") {\r\n        super(message);\r\n    }\r\n}\r\nexports.default = ScopedNotAllowedInMainContext;\r\n//# sourceMappingURL=ScopedNotAllowedInMainContext.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ServiceIdentifierAlreadyInUse extends Error {\r\n    constructor(message = \"Service identifier already in use.\") {\r\n        super(message);\r\n    }\r\n}\r\nexports.default = ServiceIdentifierAlreadyInUse;\r\n//# sourceMappingURL=ServiceIdentifierAlreadyInUse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass UnknownOrUnsupportedServiceType extends Error {\r\n    constructor(message = \"Unknown or unsupported service type.\") {\r\n        super(message);\r\n    }\r\n}\r\nexports.default = UnknownOrUnsupportedServiceType;\r\n//# sourceMappingURL=UnknownOrUnsupportedServiceType.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass UnknownServiceIdentifierError extends Error {\r\n    constructor(message = \"Unknown service identifier.\") {\r\n        super(message);\r\n    }\r\n}\r\nexports.default = UnknownServiceIdentifierError;\r\n//# sourceMappingURL=UnknownServiceIdentifierError.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ServiceCollection = void 0;\r\nrequire(\"./polyfills\");\r\nconst ServiceCollection_1 = __importDefault(require(\"./classes/ServiceCollection\"));\r\nexports.ServiceCollection = ServiceCollection_1.default;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IsICloneable = exports.ICloneableIdentifier = void 0;\r\nexports.ICloneableIdentifier = Symbol(\"ICloneable\");\r\nfunction IsICloneable(instance) {\r\n    return (instance === null || instance === void 0 ? void 0 : instance.ICloneable) === exports.ICloneableIdentifier;\r\n}\r\nexports.IsICloneable = IsICloneable;\r\n//# sourceMappingURL=IClonable.js.map","\"use strict\";\r\nString.prototype.isEmptyOrWhitespace = function () {\r\n    return this.match(/^ *$/) !== null;\r\n};\r\n//# sourceMappingURL=StringExtensions.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./StringExtensions\");\r\n//# sourceMappingURL=index.js.map","import { ServiceCollection } from \"@amaic/dijs\";\r\nimport { ServiceRegistrationMode } from \"@amaic/dijs-abstractions\";\r\nimport \"@amaic/dijs-extensions-registration\";\r\nimport IAppSettings, { IAppSettingsIdentifier } from \"./interfaces/IAppSettings\";\r\n\r\nlet fetchAppSettingsTask: Promise<Response> | undefined;\r\n\r\nexport default function Bootloader(appSettingsUrl: string)\r\n{\r\n    fetchAppSettingsTask = fetch(appSettingsUrl);\r\n\r\n    if (document.readyState === \"loading\")\r\n    {\r\n        window.addEventListener('DOMContentLoaded', Startup);\r\n    }\r\n    else\r\n    {\r\n        Startup();\r\n    }\r\n}\r\n\r\nasync function Startup()\r\n{\r\n    if (fetchAppSettingsTask == undefined)\r\n    {\r\n        console.error(\"fetchAppSettingsTask is undefined.\");\r\n        return;\r\n    }\r\n\r\n    const appSettingsrResponse = await fetchAppSettingsTask;\r\n\r\n    if (appSettingsrResponse.ok == false)\r\n    {\r\n        console.error(\"Unable to load %s: %d %s\", appSettingsrResponse.url, appSettingsrResponse.status, appSettingsrResponse.statusText);\r\n        return;\r\n    }\r\n\r\n    const appSettings: IAppSettings = await appSettingsrResponse.json();\r\n\r\n    const serviceCollection = new ServiceCollection();\r\n\r\n    serviceCollection.RegisterInstance(\r\n        ServiceRegistrationMode.Single,\r\n        IAppSettingsIdentifier,\r\n        appSettings\r\n        );\r\n\r\n    const serviceProvider = serviceCollection.CreateServiceProvider();\r\n\r\n    const test = serviceProvider.GetRequiredService<IAppSettings>(IAppSettingsIdentifier);\r\n\r\n    console.debug(test.ApiEndpoint);\r\n}","import Bootloader from \"./bootloader\";\r\n\r\nBootloader(\"./appSettings.json\");","export const IAppSettingsIdentifier = Symbol(\"IAppSettings\");\r\n\r\nexport default interface IAppSettings\r\n{\r\n    ApiEndpoint: string\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}